<h1><%= @event.name %></h1>

<h2>第二步</h2>

 <% if @registration.errors.any? %>
   <ul>
   <% @registration.errors.full_messages.each do |error| %>
     <li><%= error %></li>
   <% end %>
   </ul>
 <% end %>

<%= form_for @registration, :url => update_step2_event_registration_path(@event, @registration) do |f| %>

<%# * f.object 指的是这个 form_for 表单的 model 物件，也就是 @registration
* f.object.errors[字段名称] 是个数组储存了这个字段的错误讯息
* has-error 和 help-block 是 Bootstrap 提供的样式，这里配合使用。 %>
  <div class="form-group">
    <%= f.label :名称, "名称" %>
    <%= f.text_field :name, :class => "form-control", :required => true, autofocus: :true %>
    <div class="help-block with-errors"></div>
  </div>

  <div class="form-group">
    <%= f.label :邮箱, "邮箱" %>
    <%= f.email_field :email, required: :true, :class => "form-control" %>
    <div class="help-block with-errors"></div>
  </div>

  <div class="form-group>">
    <%= f.label :手机, "手机" %>
    <%= f.text_field :cellphone, required: :true, :class => "form-control" %>
    <div class="help-block with-errors"></div>
  </div>

  <div class="form-group">
        <%= link_to "上一步", step1_event_registration_path(@event, @registration), :class => "btn btn-default" %>
    <%= f.submit "下一步", :class => "btn btn-primary" %>
  </div>

<% end %>